var _my=require("../../../../../__antmove/api/index.js")(my);var wx=_my;Component(wx.__bridge.reactCompHelper({properties:{refreshing:{type:Boolean,value:false,observer:function observer(nv){if(nv){console.warn("不支持 ScrollView 的refreshing属性, 可以使用FlatList替换");}}},contentContainerStyle:{type:String,value:""},horizontal:{type:Boolean,value:false},pagingEnabled:{type:Boolean,value:false,observer:function observer(nv){if(nv){console.warn("不支持 ScrollView 的pagingEnabled属性");}}}},ready:function ready(){var _this=this;this.onScrollFunc=this.data.onScroll;if(this.data.onContentSizeChange){var query=wx.createSelectorQuery().in(this);query.select(".scroll-area").boundingClientRect(function(res){_this.setData({contentHeight:res.height});_this.watchContentSize();}).exec();}},methods:{watchContentSize:function watchContentSize(){var _this2=this;var observer=wx.createIntersectionObserver(this,{observeAll:true});observer.relativeTo(".scroll-area").observe(".ball",function(res){var id=res.id,intersectionRatio=res.intersectionRatio,relativeRect=res.relativeRect;if(id==="above"&&intersectionRatio===0){var onContentSizeChangeFunc=_this2.data.onContentSizeChange;onContentSizeChangeFunc(relativeRect.right-relativeRect.left,relativeRect.bottom-relativeRect.top);var query=wx.createSelectorQuery().in(_this2);query.select(".scroll-area").boundingClientRect(function(res){_this2.setData({contentHeight:res.height});}).exec();}if(id==="below"&&intersectionRatio===1){var _onContentSizeChangeFunc=_this2.data.onContentSizeChange;_onContentSizeChangeFunc(relativeRect.right-relativeRect.left,relativeRect.bottom-relativeRect.top);var _query=wx.createSelectorQuery().in(_this2);_query.select(".scroll-area").boundingClientRect(function(res){_this2.setData({contentHeight:res.height});}).exec();}});},scrollTo:function scrollTo(pos){var x=pos.x,y=pos.y;this.setData({outTop:y,outLeft:x});},formatEvent:function formatEvent(e){return{nativeEvent:{contentOffset:{x:e.detail.scrollLeft,y:e.detail.scrollTop}}};},outScroll:function outScroll(e){if(this.onScrollFunc){this.onScrollFunc(this.formatEvent(e));}},startTouch:function startTouch(){var method=this.data.onScrollBeginDrag;method&&method();},leaveTouch:function leaveTouch(e){var method=this.data.onScrollEndDrag;method&&method();}},data:{withAni:true,outLeft:0,outTop:0,contentHeight:0}}));